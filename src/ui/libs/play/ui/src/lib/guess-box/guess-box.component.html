<div class="guess-box" *ngrxLet="vm$ as vm" @fade>
  <ppo-round-result
    *ngIf="vm.answer"
    [header]="vm.answer.odds + '%'"
    [body]="vm.answer.score | formatAnswerMessage"
    [size]="'lg'"
    [classes]="
      (vm.answer.score | scoreIsAccurate)
        ? ['result-accurate']
        : ['result-inaccurate']
    "
  >
    <ppo-post-round-actions actions></ppo-post-round-actions>
  </ppo-round-result>
  <ppo-loader *ngIf="vm.calculatingAnswer && !vm.fetchingRound"></ppo-loader>
  <div class="guess-box-label" *ngIf="!vm.answer">
    <span *ngIf="!vm.calculatingAnswer">{{ vm.message }}</span>
  </div>
  <form [formGroup]="guessForm" class="guess-box-form">
    <input
      placeholder="0.00"
      type="number"
      step=".01"
      max="100"
      min="0"
      formControlName="estimate"
    />
    <ppo-play-button
      (buttonClicked)="playButtonHandler()"
      [disabled]="vm.calculatingAnswer || vm.fetchingRound || vm.formInvalid"
    >
    </ppo-play-button>
  </form>
</div>
