<ng-container *ngrxLet="username$ as username">
  <div
    class="user-status"
    (click)="username ? navigateToProfile():toggleUserForm()"
    (mouseenter)="onMouseEnter()"
    (mouseleave)="onMouseLeave()"
    >
    @if (username) {
      <span class="link"
        >Hello, {{ username }}</span
        >
      } @else {
        <span class="link"> SIGN IN </span>
      }
      @if (!hovering) {
        <svg
          width="40"
          height="40"
          viewBox="0 0 40 40"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          >
          <path
            d="M5 26.6667V13.3333C5 8.73096 8.73096 5 13.3333 5H26.6667C31.269 5 35 8.73096 35 13.3333V26.6667C35 31.269 31.269 35 26.6667 35H13.3333C8.73096 35 5 31.269 5 26.6667Z"
            stroke="#83838A"
            stroke-width="2"
            />
          <path
            d="M27.5 24.1666C27.5 24.1666 25 27.5 20 27.5C15 27.5 12.5 24.1666 12.5 24.1666"
            stroke="#83838A"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            />
          <path
            d="M14.1667 16.6667C13.7064 16.6667 13.3333 16.2936 13.3333 15.8333C13.3333 15.3731 13.7064 15 14.1667 15C14.6269 15 15 15.3731 15 15.8333C15 16.2936 14.6269 16.6667 14.1667 16.6667Z"
            fill="#83838A"
            stroke="#83838A"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            />
          <path
            d="M25.8332 16.6667C25.3729 16.6667 24.9998 16.2936 24.9998 15.8333C24.9998 15.3731 25.3729 15 25.8332 15C26.2934 15 26.6665 15.3731 26.6665 15.8333C26.6665 16.2936 26.2934 16.6667 25.8332 16.6667Z"
            fill="#83838A"
            stroke="#83838A"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            />
        </svg>
      }
      @if (hovering) {
        <svg
          width="40"
          height="40"
          viewBox="0 0 40 40"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          >
          <path
            d="M5 26.6667V13.3333C5 8.73096 8.73096 5 13.3333 5H26.6667C31.269 5 35 8.73096 35 13.3333V26.6667C35 31.269 31.269 35 26.6667 35H13.3333C8.73096 35 5 31.269 5 26.6667Z"
            fill="#FAFAFB"
            stroke="#FAFAFB"
            stroke-width="2"
            />
          <path
            d="M27.5 24.1666C27.5 24.1666 25 27.5 20 27.5C15 27.5 12.5 24.1666 12.5 24.1666"
            stroke="#191927"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            />
          <path
            d="M14.1667 16.6667C13.7064 16.6667 13.3333 16.2936 13.3333 15.8333C13.3333 15.3731 13.7064 15 14.1667 15C14.6269 15 15 15.3731 15 15.8333C15 16.2936 14.6269 16.6667 14.1667 16.6667Z"
            fill="#191927"
            stroke="#191927"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            />
          <path
            d="M25.8332 16.6667C25.3729 16.6667 24.9998 16.2936 24.9998 15.8333C24.9998 15.3731 25.3729 15 25.8332 15C26.2934 15 26.6665 15.3731 26.6665 15.8333C26.6665 16.2936 26.2934 16.6667 25.8332 16.6667Z"
            fill="#191927"
            stroke="#191927"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            />
        </svg>
      }
    </div>
  </ng-container>
  @if (userFormVisible) {
    <ppo-user-form
      (clickedOutside)="toggleUserForm()"
    ></ppo-user-form>
  }
